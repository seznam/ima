"use strict";(self.webpackChunk_ima_docs=self.webpackChunk_ima_docs||[]).push([[4352],{8232:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>l,contentTitle:()=>i,default:()=>o,frontMatter:()=>c,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"api/@ima/core/classes/PageStateManager","title":"Class: abstract PageStateManager\\\\<S\\\\>","description":"Defined in6","source":"@site/../docs/api/@ima/core/classes/PageStateManager.md","sourceDirName":"api/@ima/core/classes","slug":"/api/@ima/core/classes/PageStateManager","permalink":"/api/@ima/core/classes/PageStateManager","draft":false,"unlisted":false,"editUrl":"https://github.com/seznam/ima/tree/master/docs/../docs/api/@ima/core/classes/PageStateManager.md","tags":[],"version":"current","frontMatter":{},"sidebar":"api","previous":{"title":"Class: abstract PageRenderer","permalink":"/api/@ima/core/classes/PageRenderer"},"next":{"title":"Class: PageStateManagerDecorator","permalink":"/api/@ima/core/classes/PageStateManagerDecorator"}}');var n=t(2540),r=t(3023);const c={},i="Class: abstract PageStateManager<S>",l={},d=[{value:"Extended by",id:"extended-by",level:2},{value:"Type Parameters",id:"type-parameters",level:2},{value:"Constructors",id:"constructors",level:2},{value:"new PageStateManager()",id:"new-pagestatemanager",level:3},{value:"Returns",id:"returns",level:4},{value:"Properties",id:"properties",level:2},{value:"onChange()?",id:"onchange",level:3},{value:"Parameters",id:"parameters",level:4},{value:"newState",id:"newstate",level:5},{value:"Returns",id:"returns-1",level:4},{value:"Methods",id:"methods",level:2},{value:"beginTransaction()",id:"begintransaction",level:3},{value:"Returns",id:"returns-2",level:4},{value:"cancelTransaction()",id:"canceltransaction",level:3},{value:"Returns",id:"returns-3",level:4},{value:"clear()",id:"clear",level:3},{value:"Returns",id:"returns-4",level:4},{value:"commitTransaction()",id:"committransaction",level:3},{value:"Returns",id:"returns-5",level:4},{value:"getAllStates()",id:"getallstates",level:3},{value:"Returns",id:"returns-6",level:4},{value:"getState()",id:"getstate",level:3},{value:"Returns",id:"returns-7",level:4},{value:"getTransactionStatePatches()",id:"gettransactionstatepatches",level:3},{value:"Returns",id:"returns-8",level:4},{value:"setState()",id:"setstate",level:3},{value:"Type Parameters",id:"type-parameters-1",level:4},{value:"Parameters",id:"parameters-1",level:4},{value:"patchState",id:"patchstate",level:5},{value:"Returns",id:"returns-9",level:4}];function h(e){const a={a:"a",blockquote:"blockquote",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.header,{children:(0,n.jsxs)(a.h1,{id:"class-abstract-pagestatemanagers",children:["Class: ",(0,n.jsx)(a.code,{children:"abstract"})," PageStateManager<S>"]})}),"\n",(0,n.jsxs)(a.p,{children:["Defined in: ",(0,n.jsx)(a.a,{href:"https://github.com/seznam/ima/blob/7e69c4a1ac0b63129a5f4320cdced6990eaa14a9/packages/core/src/page/state/PageStateManager.ts#L6",children:"packages/core/src/page/state/PageStateManager.ts:6"})]}),"\n",(0,n.jsx)(a.p,{children:"Manager of the current page state and state history."}),"\n",(0,n.jsx)(a.h2,{id:"extended-by",children:"Extended by"}),"\n",(0,n.jsxs)(a.ul,{children:["\n",(0,n.jsx)(a.li,{children:(0,n.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManagerDecorator",children:(0,n.jsx)(a.code,{children:"PageStateManagerDecorator"})})}),"\n",(0,n.jsx)(a.li,{children:(0,n.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManagerImpl",children:(0,n.jsx)(a.code,{children:"PageStateManagerImpl"})})}),"\n"]}),"\n",(0,n.jsx)(a.h2,{id:"type-parameters",children:"Type Parameters"}),"\n",(0,n.jsxs)(a.p,{children:["\u2022 ",(0,n.jsx)(a.strong,{children:"S"})," ",(0,n.jsx)(a.em,{children:"extends"})," ",(0,n.jsx)(a.a,{href:"/api/@ima/core/type-aliases/PageState",children:(0,n.jsx)(a.code,{children:"PageState"})})," = {}"]}),"\n",(0,n.jsx)(a.h2,{id:"constructors",children:"Constructors"}),"\n",(0,n.jsx)(a.h3,{id:"new-pagestatemanager",children:"new PageStateManager()"}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.strong,{children:"new PageStateManager"}),"<",(0,n.jsx)(a.code,{children:"S"}),">(): ",(0,n.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManager",children:(0,n.jsx)(a.code,{children:"PageStateManager"})}),"<",(0,n.jsx)(a.code,{children:"S"}),">"]}),"\n"]}),"\n",(0,n.jsx)(a.h4,{id:"returns",children:"Returns"}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManager",children:(0,n.jsx)(a.code,{children:"PageStateManager"})}),"<",(0,n.jsx)(a.code,{children:"S"}),">"]}),"\n",(0,n.jsx)(a.h2,{id:"properties",children:"Properties"}),"\n",(0,n.jsx)(a.h3,{id:"onchange",children:"onChange()?"}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.code,{children:"optional"})," ",(0,n.jsx)(a.strong,{children:"onChange"}),": (",(0,n.jsx)(a.code,{children:"newState"}),") => ",(0,n.jsx)(a.code,{children:"void"})]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Defined in: ",(0,n.jsx)(a.a,{href:"https://github.com/seznam/ima/blob/7e69c4a1ac0b63129a5f4320cdced6990eaa14a9/packages/core/src/page/state/PageStateManager.ts#L7",children:"packages/core/src/page/state/PageStateManager.ts:7"})]}),"\n",(0,n.jsx)(a.h4,{id:"parameters",children:"Parameters"}),"\n",(0,n.jsx)(a.h5,{id:"newstate",children:"newState"}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.code,{children:"S"})}),"\n",(0,n.jsx)(a.h4,{id:"returns-1",children:"Returns"}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.code,{children:"void"})}),"\n",(0,n.jsx)(a.h2,{id:"methods",children:"Methods"}),"\n",(0,n.jsx)(a.h3,{id:"begintransaction",children:"beginTransaction()"}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.strong,{children:"beginTransaction"}),"(): ",(0,n.jsx)(a.code,{children:"void"})]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Defined in: ",(0,n.jsx)(a.a,{href:"https://github.com/seznam/ima/blob/7e69c4a1ac0b63129a5f4320cdced6990eaa14a9/packages/core/src/page/state/PageStateManager.ts#L64",children:"packages/core/src/page/state/PageStateManager.ts:64"})]}),"\n",(0,n.jsxs)(a.p,{children:["Starts queueing state patches off the main state. While the transaction\nis active every ",(0,n.jsx)(a.code,{children:"setState"})," call has no effect on the current state."]}),"\n",(0,n.jsxs)(a.p,{children:["Note that call to ",(0,n.jsx)(a.code,{children:"getState"})," after the transaction has begun will\nreturn state as it was before the transaction."]}),"\n",(0,n.jsx)(a.h4,{id:"returns-2",children:"Returns"}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.code,{children:"void"})}),"\n",(0,n.jsx)(a.hr,{}),"\n",(0,n.jsx)(a.h3,{id:"canceltransaction",children:"cancelTransaction()"}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.strong,{children:"cancelTransaction"}),"(): ",(0,n.jsx)(a.code,{children:"void"})]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Defined in: ",(0,n.jsx)(a.a,{href:"https://github.com/seznam/ima/blob/7e69c4a1ac0b63129a5f4320cdced6990eaa14a9/packages/core/src/page/state/PageStateManager.ts#L79",children:"packages/core/src/page/state/PageStateManager.ts:79"})]}),"\n",(0,n.jsx)(a.p,{children:"Cancels ongoing transaction. Uncommitted state changes are lost."}),"\n",(0,n.jsx)(a.h4,{id:"returns-3",children:"Returns"}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.code,{children:"void"})}),"\n",(0,n.jsx)(a.hr,{}),"\n",(0,n.jsx)(a.h3,{id:"clear",children:"clear()"}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.strong,{children:"clear"}),"(): ",(0,n.jsx)(a.code,{children:"void"})]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Defined in: ",(0,n.jsx)(a.a,{href:"https://github.com/seznam/ima/blob/7e69c4a1ac0b63129a5f4320cdced6990eaa14a9/packages/core/src/page/state/PageStateManager.ts#L12",children:"packages/core/src/page/state/PageStateManager.ts:12"})]}),"\n",(0,n.jsx)(a.p,{children:"Clears the state history."}),"\n",(0,n.jsx)(a.h4,{id:"returns-4",children:"Returns"}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.code,{children:"void"})}),"\n",(0,n.jsx)(a.hr,{}),"\n",(0,n.jsx)(a.h3,{id:"committransaction",children:"commitTransaction()"}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.strong,{children:"commitTransaction"}),"(): ",(0,n.jsx)(a.code,{children:"void"})]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Defined in: ",(0,n.jsx)(a.a,{href:"https://github.com/seznam/ima/blob/7e69c4a1ac0b63129a5f4320cdced6990eaa14a9/packages/core/src/page/state/PageStateManager.ts#L72",children:"packages/core/src/page/state/PageStateManager.ts:72"})]}),"\n",(0,n.jsxs)(a.p,{children:["Applies queued state patches to the main state. All patches are squashed\nand applied with one ",(0,n.jsx)(a.code,{children:"setState"})," call."]}),"\n",(0,n.jsx)(a.h4,{id:"returns-5",children:"Returns"}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.code,{children:"void"})}),"\n",(0,n.jsx)(a.hr,{}),"\n",(0,n.jsx)(a.h3,{id:"getallstates",children:"getAllStates()"}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.strong,{children:"getAllStates"}),"(): ",(0,n.jsx)(a.code,{children:"S"}),"[]"]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Defined in: ",(0,n.jsx)(a.a,{href:"https://github.com/seznam/ima/blob/7e69c4a1ac0b63129a5f4320cdced6990eaa14a9/packages/core/src/page/state/PageStateManager.ts#L44",children:"packages/core/src/page/state/PageStateManager.ts:44"})]}),"\n",(0,n.jsx)(a.p,{children:"Returns the recorded history of page states. The states will be\nchronologically sorted from the oldest to the newest."}),"\n",(0,n.jsx)(a.p,{children:"Note that the implementation may limit the size of the recorded history,\ntherefore the complete history may not be available."}),"\n",(0,n.jsx)(a.h4,{id:"returns-6",children:"Returns"}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.code,{children:"S"}),"[]"]}),"\n",(0,n.jsx)(a.p,{children:"The recorded history of page states."}),"\n",(0,n.jsx)(a.hr,{}),"\n",(0,n.jsx)(a.h3,{id:"getstate",children:"getState()"}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.strong,{children:"getState"}),"(): ",(0,n.jsx)(a.code,{children:"S"})]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Defined in: ",(0,n.jsx)(a.a,{href:"https://github.com/seznam/ima/blob/7e69c4a1ac0b63129a5f4320cdced6990eaa14a9/packages/core/src/page/state/PageStateManager.ts#L31",children:"packages/core/src/page/state/PageStateManager.ts:31"})]}),"\n",(0,n.jsx)(a.p,{children:"Returns the current page state."}),"\n",(0,n.jsx)(a.h4,{id:"returns-7",children:"Returns"}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.code,{children:"S"})}),"\n",(0,n.jsx)(a.p,{children:"The current page state."}),"\n",(0,n.jsx)(a.hr,{}),"\n",(0,n.jsx)(a.h3,{id:"gettransactionstatepatches",children:"getTransactionStatePatches()"}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.strong,{children:"getTransactionStatePatches"}),"(): (",(0,n.jsx)(a.code,{children:"null"})," | ",(0,n.jsx)(a.code,{children:"S"})," | ",(0,n.jsx)(a.code,{children:"Pick"}),"<",(0,n.jsx)(a.code,{children:"S"}),", ",(0,n.jsx)(a.code,{children:"any"}),">)[]"]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Defined in: ",(0,n.jsx)(a.a,{href:"https://github.com/seznam/ima/blob/7e69c4a1ac0b63129a5f4320cdced6990eaa14a9/packages/core/src/page/state/PageStateManager.ts#L53",children:"packages/core/src/page/state/PageStateManager.ts:53"})]}),"\n",(0,n.jsx)(a.p,{children:"Returns queueing state patches off the main state from the begin of transaction."}),"\n",(0,n.jsx)(a.h4,{id:"returns-8",children:"Returns"}),"\n",(0,n.jsxs)(a.p,{children:["(",(0,n.jsx)(a.code,{children:"null"})," | ",(0,n.jsx)(a.code,{children:"S"})," | ",(0,n.jsx)(a.code,{children:"Pick"}),"<",(0,n.jsx)(a.code,{children:"S"}),", ",(0,n.jsx)(a.code,{children:"any"}),">)[]"]}),"\n",(0,n.jsx)(a.p,{children:"State patches from the begin of transaction."}),"\n",(0,n.jsx)(a.hr,{}),"\n",(0,n.jsx)(a.h3,{id:"setstate",children:"setState()"}),"\n",(0,n.jsxs)(a.blockquote,{children:["\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.strong,{children:"setState"}),"<",(0,n.jsx)(a.code,{children:"K"}),">(",(0,n.jsx)(a.code,{children:"patchState"}),"): ",(0,n.jsx)(a.code,{children:"void"})]}),"\n"]}),"\n",(0,n.jsxs)(a.p,{children:["Defined in: ",(0,n.jsx)(a.a,{href:"https://github.com/seznam/ima/blob/7e69c4a1ac0b63129a5f4320cdced6990eaa14a9/packages/core/src/page/state/PageStateManager.ts#L22",children:"packages/core/src/page/state/PageStateManager.ts:22"})]}),"\n",(0,n.jsx)(a.p,{children:"Sets a new page state by applying the provided patch to the current\nstate."}),"\n",(0,n.jsx)(a.h4,{id:"type-parameters-1",children:"Type Parameters"}),"\n",(0,n.jsxs)(a.p,{children:["\u2022 ",(0,n.jsx)(a.strong,{children:"K"})," ",(0,n.jsx)(a.em,{children:"extends"})," ",(0,n.jsx)(a.code,{children:"string"})," | ",(0,n.jsx)(a.code,{children:"number"})," | ",(0,n.jsx)(a.code,{children:"symbol"})]}),"\n",(0,n.jsx)(a.h4,{id:"parameters-1",children:"Parameters"}),"\n",(0,n.jsx)(a.h5,{id:"patchstate",children:"patchState"}),"\n",(0,n.jsxs)(a.p,{children:[(0,n.jsx)(a.code,{children:"null"})," | ",(0,n.jsx)(a.code,{children:"S"})," | ",(0,n.jsx)(a.code,{children:"Pick"}),"<",(0,n.jsx)(a.code,{children:"S"}),", ",(0,n.jsx)(a.code,{children:"K"}),">"]}),"\n",(0,n.jsx)(a.h4,{id:"returns-9",children:"Returns"}),"\n",(0,n.jsx)(a.p,{children:(0,n.jsx)(a.code,{children:"void"})})]})}function o(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(h,{...e})}):h(e)}},3023:(e,a,t)=>{t.d(a,{R:()=>c,x:()=>i});var s=t(3696);const n={},r=s.createContext(n);function c(e){const a=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function i(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:c(e.components),s.createElement(r.Provider,{value:a},e.children)}}}]);