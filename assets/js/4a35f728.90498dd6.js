"use strict";(globalThis.webpackChunk_ima_docs=globalThis.webpackChunk_ima_docs||[]).push([[6333],{2608:(e,r,n)=>{n.d(r,{A:()=>A});var a=n(3696),s=n(2689),i=n(3912),t=n(3447),l=n(9519),c=n(6960),o=n(9624),d=n(6953),u=n(9866);function p(e){return a.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,a.isValidElement)(e)&&function(e){const{props:r}=e;return!!r&&"object"==typeof r&&"value"in r}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function h(e){const{values:r,children:n}=e;return(0,a.useMemo)(()=>{const e=r??function(e){return p(e).map(({props:{value:e,label:r,attributes:n,default:a}})=>({value:e,label:r,attributes:n,default:a}))}(n);return function(e){const r=(0,d.XI)(e,(e,r)=>e.value===r.value);if(r.length>0)throw new Error(`Docusaurus error: Duplicate values "${r.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[r,n])}function g({value:e,tabValues:r}){return r.some(r=>r.value===e)}function m({queryString:e=!1,groupId:r}){const n=(0,l.W6)(),s=function({queryString:e=!1,groupId:r}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:e,groupId:r});return[(0,o.aZ)(s),(0,a.useCallback)(e=>{if(!s)return;const r=new URLSearchParams(n.location.search);r.set(s,e),n.replace({...n.location,search:r.toString()})},[s,n])]}function f(e){const{defaultValue:r,queryString:n=!1,groupId:s}=e,i=h(e),[t,l]=(0,a.useState)(()=>function({defaultValue:e,tabValues:r}){if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!g({value:e,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${r.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=r.find(e=>e.default)??r[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:r,tabValues:i})),[o,d]=m({queryString:n,groupId:s}),[p,f]=function({groupId:e}){const r=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,s]=(0,u.Dv)(r);return[n,(0,a.useCallback)(e=>{r&&s.set(e)},[r,s])]}({groupId:s}),x=(()=>{const e=o??p;return g({value:e,tabValues:i})?e:null})();(0,c.A)(()=>{x&&l(x)},[x]);return{selectedValue:t,selectValue:(0,a.useCallback)(e=>{if(!g({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);l(e),d(e),f(e)},[d,f,i]),tabValues:i}}var x=n(9244);const j={tabList:"tabList_J5MA",tabItem:"tabItem_l0OV"};var b=n(2540);function v({className:e,block:r,selectedValue:n,selectValue:a,tabValues:i}){const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,t.a_)(),o=e=>{const r=e.currentTarget,s=l.indexOf(r),t=i[s].value;t!==n&&(c(r),a(t))},d=e=>{let r=null;switch(e.key){case"Enter":o(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;r=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;r=l[n]??l[l.length-1];break}}r?.focus()};return(0,b.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":r},e),children:i.map(({value:e,label:r,attributes:a})=>(0,b.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{l.push(e)},onKeyDown:d,onClick:o,...a,className:(0,s.A)("tabs__item",j.tabItem,a?.className,{"tabs__item--active":n===e}),children:r??e},e))})}function C({lazy:e,children:r,selectedValue:n}){const i=(Array.isArray(r)?r:[r]).filter(Boolean);if(e){const e=i.find(e=>e.props.value===n);return e?(0,a.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,b.jsx)("div",{className:"margin-top--md",children:i.map((e,r)=>(0,a.cloneElement)(e,{key:r,hidden:e.props.value!==n}))})}function y(e){const r=f(e);return(0,b.jsxs)("div",{className:(0,s.A)(i.G.tabs.container,"tabs-container",j.tabList),children:[(0,b.jsx)(v,{...r,...e}),(0,b.jsx)(C,{...r,...e})]})}function A(e){const r=(0,x.A)();return(0,b.jsx)(y,{...e,children:p(e.children)},String(r))}},3023:(e,r,n)=>{n.d(r,{R:()=>t,x:()=>l});var a=n(3696);const s={},i=a.createContext(s);function t(e){const r=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function l(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),a.createElement(i.Provider,{value:r},e.children)}},4645:(e,r,n)=>{n.d(r,{A:()=>t});n(3696);var a=n(2689);const s={tabItem:"tabItem_wHwb"};var i=n(2540);function t({children:e,hidden:r,className:n}){return(0,i.jsx)("div",{role:"tabpanel",className:(0,a.A)(s.tabItem,n),hidden:r,children:e})}},9735:(e,r,n)=>{n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>c,metadata:()=>a,toc:()=>u});const a=JSON.parse('{"id":"api/@ima/react-page-renderer/index","title":"@ima/react-page-renderer","description":"Adds support for rendering pages with React for IMA@18 and higher. For legacy IMA@17 use page renderers included in core package.","source":"@site/../docs/api/@ima/react-page-renderer/index.md","sourceDirName":"api/@ima/react-page-renderer","slug":"/api/@ima/react-page-renderer/","permalink":"/api/@ima/react-page-renderer/","draft":false,"unlisted":false,"editUrl":"https://github.com/seznam/ima/tree/master/docs/../docs/api/@ima/react-page-renderer/index.md","tags":[],"version":"current","lastUpdatedBy":null,"lastUpdatedAt":null,"frontMatter":{},"sidebar":"api","previous":{"title":"Variable: nodeConfig","permalink":"/api/@ima/plugin-cli/variables/nodeConfig"},"next":{"title":"Abstract Class: AbstractComponent\\\\<P, S, SS\\\\>","permalink":"/api/@ima/react-page-renderer/classes/AbstractComponent"}}');var s=n(2540),i=n(3023),t=n(2608),l=n(4645);const c={},o="@ima/react-page-renderer",d={},u=[{value:"Installation",id:"installation",level:2},{value:"Usage",id:"usage",level:2},{value:"app/config/bind.js",id:"appconfigbindjs",level:3},{value:"app/config/settings.js",id:"appconfigsettingsjs",level:3},{value:"server/app.js",id:"serverappjs",level:3},{value:"Components",id:"components",level:3},{value:"Classes",id:"classes",level:2},{value:"Interfaces",id:"interfaces",level:2},{value:"Variables",id:"variables",level:2},{value:"Functions",id:"functions",level:2}];function p(e){const r={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"imareact-page-renderer",children:"@ima/react-page-renderer"})}),"\n",(0,s.jsx)(r.p,{children:"Adds support for rendering pages with React for IMA@18 and higher. For legacy IMA@17 use page renderers included in core package."}),"\n",(0,s.jsx)(r.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsxs)(t.A,{groupId:"npm2yarn",children:[(0,s.jsx)(l.A,{value:"npm",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"npm install @ima/react-page-renderer\n"})})}),(0,s.jsx)(l.A,{value:"yarn",label:"Yarn",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"yarn add @ima/react-page-renderer\n"})})}),(0,s.jsx)(l.A,{value:"pnpm",label:"pnpm",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"pnpm add @ima/react-page-renderer\n"})})}),(0,s.jsx)(l.A,{value:"bun",label:"Bun",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-bash",children:"bun add @ima/react-page-renderer\n"})})})]}),"\n",(0,s.jsx)(r.h2,{id:"usage",children:"Usage"}),"\n",(0,s.jsx)(r.h3,{id:"appconfigbindjs",children:"app/config/bind.js"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",children:"import {\n  defaultCssClasses as cssClassNameProcessor,\n  PageRendererFactory,\n  ServerPageRenderer,\n} from '@ima/react-page-renderer';\nimport { ClientPageRenderer } from '@ima/react-page-renderer/renderer/ClientPageRenderer';\n\nexport default (ns, oc, config) => {\n  oc.bind('$CssClasses', function () {\n    return cssClassNameProcessor;\n  });\n\n  oc.get(ComponentUtils).register({\n    $CssClasses: '$CssClasses',\n  });\n\n  oc.inject(PageRendererFactory, [ComponentUtils]);\n  oc.bind('$PageRendererFactory', PageRendererFactory);\n\n  if (oc.get(Window).isClient()) {\n    oc.provide(PageRenderer, ClientPageRenderer, [\n      PageRendererFactory,\n      '$Helper',\n      '$Dispatcher',\n      '$Settings',\n      Window,\n    ]);\n  } else {\n    oc.provide(PageRenderer, ServerPageRenderer, [\n      PageRendererFactory,\n      '$Helper',\n      '$Dispatcher',\n      '$Settings',\n      Cache,\n    ]);\n  }\n  oc.bind('$PageRenderer', PageRenderer);\n};\n"})}),"\n",(0,s.jsx)(r.p,{children:"If your app is using legacy React@17, use legacy client page renderer instead of the default one."}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",children:"import { ClientPageRenderer } from '@ima/react-page-renderer/renderer/LegacyClientPageRenderer';\n"})}),"\n",(0,s.jsx)(r.h3,{id:"appconfigsettingsjs",children:"app/config/settings.js"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",children:"import DocumentView from 'app/document/DocumentView';\n\nexport default (ns, oc, config) => {\n  return {\n    prod: {\n      $Page: {\n        $Render: {\n          documentView: DocumentView,\n          masterElementId: 'page',\n        },\n      },\n    },\n  };\n};\n"})}),"\n",(0,s.jsx)(r.h3,{id:"serverappjs",children:"server/app.js"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",children:"// You should already have this line in your file\nconst imaServer = require('@ima/server')();\n\nrequire('@ima/react-page-renderer/hook/server')(imaServer);\n"})}),"\n",(0,s.jsx)(r.h3,{id:"components",children:"Components"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",children:"import { AbstractComponent, AbstractPureComponent } from '@ima/react-page-renderer';\n\nexport default class MyComponent extends AbstractComponent {}\n"})}),"\n",(0,s.jsx)(r.h2,{id:"classes",children:"Classes"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/classes/AbstractComponent",children:"AbstractComponent"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/classes/AbstractPureComponent",children:"AbstractPureComponent"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/classes/BlankManagedRootView",children:"BlankManagedRootView"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/classes/ErrorBoundary",children:"ErrorBoundary"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/classes/PageRendererFactory",children:"PageRendererFactory"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/classes/ServerPageRenderer",children:"ServerPageRenderer"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/classes/ViewAdapter",children:"ViewAdapter"})}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"interfaces",children:"Interfaces"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/interfaces/PageContextType",children:"PageContextType"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/interfaces/useComponentType",children:"useComponentType"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/interfaces/useDispatcherType",children:"useDispatcherType"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/interfaces/useEventBusType",children:"useEventBusType"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/interfaces/ViewAdapterProps",children:"ViewAdapterProps"})}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"variables",children:"Variables"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/variables/PageContext",children:"PageContext"})}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"functions",children:"Functions"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/functions/cssClasses",children:"cssClasses"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/functions/defaultCssClasses",children:"defaultCssClasses"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/functions/fire",children:"fire"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/functions/getUtils",children:"getUtils"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/functions/link",children:"link"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/functions/listen",children:"listen"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/functions/localize",children:"localize"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/functions/unlisten",children:"unlisten"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/functions/useComponent",children:"useComponent"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/functions/useComponentUtils",children:"useComponentUtils"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/functions/useCssClasses",children:"useCssClasses"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/functions/useDispatcher",children:"useDispatcher"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/functions/useEventBus",children:"useEventBus"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/functions/useLink",children:"useLink"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/functions/useLocalize",children:"useLocalize"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/functions/useOnce",children:"useOnce"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/functions/usePageContext",children:"usePageContext"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/functions/useSettings",children:"useSettings"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/@ima/react-page-renderer/functions/useWindowEvent",children:"useWindowEvent"})}),"\n"]})]})}function h(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}}}]);