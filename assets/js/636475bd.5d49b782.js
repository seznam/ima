"use strict";(self.webpackChunk_ima_docs=self.webpackChunk_ima_docs||[]).push([[8262],{7936:(e,a,r)=>{r.r(a),r.d(a,{assets:()=>d,contentTitle:()=>i,default:()=>h,frontMatter:()=>c,metadata:()=>s,toc:()=>l});const s=JSON.parse('{"id":"api/@ima/core/classes/PageStateManagerDecorator","title":"Class: PageStateManagerDecorator","description":"Defined in9","source":"@site/../docs/api/@ima/core/classes/PageStateManagerDecorator.md","sourceDirName":"api/@ima/core/classes","slug":"/api/@ima/core/classes/PageStateManagerDecorator","permalink":"/api/@ima/core/classes/PageStateManagerDecorator","draft":false,"unlisted":false,"editUrl":"https://github.com/seznam/ima/tree/master/docs/../docs/api/@ima/core/classes/PageStateManagerDecorator.md","tags":[],"version":"current","frontMatter":{},"sidebar":"api","previous":{"title":"Class: abstract PageStateManager\\\\<S\\\\>","permalink":"/api/@ima/core/classes/PageStateManager"},"next":{"title":"Class: PageStateManagerImpl\\\\<S\\\\>","permalink":"/api/@ima/core/classes/PageStateManagerImpl"}}');var t=r(2540),n=r(3023);const c={},i="Class: PageStateManagerDecorator",d={},l=[{value:"Extends",id:"extends",level:2},{value:"Constructors",id:"constructors",level:2},{value:"new PageStateManagerDecorator()",id:"new-pagestatemanagerdecorator",level:3},{value:"Parameters",id:"parameters",level:4},{value:"pageStateManager",id:"pagestatemanager",level:5},{value:"allowedStateKeys",id:"allowedstatekeys",level:5},{value:"Returns",id:"returns",level:4},{value:"Overrides",id:"overrides",level:4},{value:"Properties",id:"properties",level:2},{value:"onChange()?",id:"onchange",level:3},{value:"Parameters",id:"parameters-1",level:4},{value:"newState",id:"newstate",level:5},{value:"Returns",id:"returns-1",level:4},{value:"Inherited from",id:"inherited-from",level:4},{value:"Methods",id:"methods",level:2},{value:"beginTransaction()",id:"begintransaction",level:3},{value:"Returns",id:"returns-2",level:4},{value:"Overrides",id:"overrides-1",level:4},{value:"cancelTransaction()",id:"canceltransaction",level:3},{value:"Returns",id:"returns-3",level:4},{value:"Overrides",id:"overrides-2",level:4},{value:"clear()",id:"clear",level:3},{value:"Returns",id:"returns-4",level:4},{value:"Overrides",id:"overrides-3",level:4},{value:"commitTransaction()",id:"committransaction",level:3},{value:"Returns",id:"returns-5",level:4},{value:"Overrides",id:"overrides-4",level:4},{value:"getAllStates()",id:"getallstates",level:3},{value:"Returns",id:"returns-6",level:4},{value:"Overrides",id:"overrides-5",level:4},{value:"getState()",id:"getstate",level:3},{value:"Returns",id:"returns-7",level:4},{value:"Overrides",id:"overrides-6",level:4},{value:"getTransactionStatePatches()",id:"gettransactionstatepatches",level:3},{value:"Returns",id:"returns-8",level:4},{value:"Overrides",id:"overrides-7",level:4},{value:"setState()",id:"setstate",level:3},{value:"Parameters",id:"parameters-2",level:4},{value:"statePatch",id:"statepatch",level:5},{value:"Returns",id:"returns-9",level:4},{value:"Overrides",id:"overrides-8",level:4}];function o(e){const a={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,n.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(a.header,{children:(0,t.jsx)(a.h1,{id:"class-pagestatemanagerdecorator",children:"Class: PageStateManagerDecorator"})}),"\n",(0,t.jsxs)(a.p,{children:["Defined in: ",(0,t.jsx)(a.a,{href:"https://github.com/seznam/ima/blob/39fc3f27c8338f71d6810d322cfdfa7bf93c0392/packages/core/src/page/state/PageStateManagerDecorator.ts#L9",children:"packages/core/src/page/state/PageStateManagerDecorator.ts:9"})]}),"\n",(0,t.jsx)(a.p,{children:"Decorator for page state manager, which add logic for limiting Extension\ncompetence."}),"\n",(0,t.jsx)(a.h2,{id:"extends",children:"Extends"}),"\n",(0,t.jsxs)(a.ul,{children:["\n",(0,t.jsx)(a.li,{children:(0,t.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManager",children:(0,t.jsx)(a.code,{children:"PageStateManager"})})}),"\n"]}),"\n",(0,t.jsx)(a.h2,{id:"constructors",children:"Constructors"}),"\n",(0,t.jsx)(a.h3,{id:"new-pagestatemanagerdecorator",children:"new PageStateManagerDecorator()"}),"\n",(0,t.jsxs)(a.blockquote,{children:["\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"new PageStateManagerDecorator"}),"(",(0,t.jsx)(a.code,{children:"pageStateManager"}),", ",(0,t.jsx)(a.code,{children:"allowedStateKeys"}),"): ",(0,t.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManagerDecorator",children:(0,t.jsx)(a.code,{children:"PageStateManagerDecorator"})})]}),"\n"]}),"\n",(0,t.jsxs)(a.p,{children:["Defined in: ",(0,t.jsx)(a.a,{href:"https://github.com/seznam/ima/blob/39fc3f27c8338f71d6810d322cfdfa7bf93c0392/packages/core/src/page/state/PageStateManagerDecorator.ts#L25",children:"packages/core/src/page/state/PageStateManagerDecorator.ts:25"})]}),"\n",(0,t.jsx)(a.p,{children:"Initializes the page state manager decorator."}),"\n",(0,t.jsx)(a.h4,{id:"parameters",children:"Parameters"}),"\n",(0,t.jsx)(a.h5,{id:"pagestatemanager",children:"pageStateManager"}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManager",children:(0,t.jsx)(a.code,{children:"PageStateManager"})})}),"\n",(0,t.jsx)(a.h5,{id:"allowedstatekeys",children:"allowedStateKeys"}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.code,{children:"string"}),"[]"]}),"\n",(0,t.jsx)(a.h4,{id:"returns",children:"Returns"}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManagerDecorator",children:(0,t.jsx)(a.code,{children:"PageStateManagerDecorator"})})}),"\n",(0,t.jsx)(a.h4,{id:"overrides",children:"Overrides"}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManager",children:(0,t.jsx)(a.code,{children:"PageStateManager"})}),".",(0,t.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManager#constructors",children:(0,t.jsx)(a.code,{children:"constructor"})})]}),"\n",(0,t.jsx)(a.h2,{id:"properties",children:"Properties"}),"\n",(0,t.jsx)(a.h3,{id:"onchange",children:"onChange()?"}),"\n",(0,t.jsxs)(a.blockquote,{children:["\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.code,{children:"optional"})," ",(0,t.jsx)(a.strong,{children:"onChange"}),": (",(0,t.jsx)(a.code,{children:"newState"}),") => ",(0,t.jsx)(a.code,{children:"void"})]}),"\n"]}),"\n",(0,t.jsxs)(a.p,{children:["Defined in: ",(0,t.jsx)(a.a,{href:"https://github.com/seznam/ima/blob/39fc3f27c8338f71d6810d322cfdfa7bf93c0392/packages/core/src/page/state/PageStateManager.ts#L7",children:"packages/core/src/page/state/PageStateManager.ts:7"})]}),"\n",(0,t.jsx)(a.h4,{id:"parameters-1",children:"Parameters"}),"\n",(0,t.jsx)(a.h5,{id:"newstate",children:"newState"}),"\n",(0,t.jsx)(a.h4,{id:"returns-1",children:"Returns"}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.code,{children:"void"})}),"\n",(0,t.jsx)(a.h4,{id:"inherited-from",children:"Inherited from"}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManager",children:(0,t.jsx)(a.code,{children:"PageStateManager"})}),".",(0,t.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManager#onchange",children:(0,t.jsx)(a.code,{children:"onChange"})})]}),"\n",(0,t.jsx)(a.h2,{id:"methods",children:"Methods"}),"\n",(0,t.jsx)(a.h3,{id:"begintransaction",children:"beginTransaction()"}),"\n",(0,t.jsxs)(a.blockquote,{children:["\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"beginTransaction"}),"(): ",(0,t.jsx)(a.code,{children:"void"})]}),"\n"]}),"\n",(0,t.jsxs)(a.p,{children:["Defined in: ",(0,t.jsx)(a.a,{href:"https://github.com/seznam/ima/blob/39fc3f27c8338f71d6810d322cfdfa7bf93c0392/packages/core/src/page/state/PageStateManagerDecorator.ts#L89",children:"packages/core/src/page/state/PageStateManagerDecorator.ts:89"})]}),"\n",(0,t.jsxs)(a.p,{children:["Starts queueing state patches off the main state. While the transaction\nis active every ",(0,t.jsx)(a.code,{children:"setState"})," call has no effect on the current state."]}),"\n",(0,t.jsxs)(a.p,{children:["Note that call to ",(0,t.jsx)(a.code,{children:"getState"})," after the transaction has begun will\nreturn state as it was before the transaction."]}),"\n",(0,t.jsx)(a.h4,{id:"returns-2",children:"Returns"}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.code,{children:"void"})}),"\n",(0,t.jsx)(a.h4,{id:"overrides-1",children:"Overrides"}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManager",children:(0,t.jsx)(a.code,{children:"PageStateManager"})}),".",(0,t.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManager#begintransaction",children:(0,t.jsx)(a.code,{children:"beginTransaction"})})]}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h3,{id:"canceltransaction",children:"cancelTransaction()"}),"\n",(0,t.jsxs)(a.blockquote,{children:["\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"cancelTransaction"}),"(): ",(0,t.jsx)(a.code,{children:"void"})]}),"\n"]}),"\n",(0,t.jsxs)(a.p,{children:["Defined in: ",(0,t.jsx)(a.a,{href:"https://github.com/seznam/ima/blob/39fc3f27c8338f71d6810d322cfdfa7bf93c0392/packages/core/src/page/state/PageStateManagerDecorator.ts#L103",children:"packages/core/src/page/state/PageStateManagerDecorator.ts:103"})]}),"\n",(0,t.jsx)(a.p,{children:"Cancels ongoing transaction. Uncommitted state changes are lost."}),"\n",(0,t.jsx)(a.h4,{id:"returns-3",children:"Returns"}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.code,{children:"void"})}),"\n",(0,t.jsx)(a.h4,{id:"overrides-2",children:"Overrides"}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManager",children:(0,t.jsx)(a.code,{children:"PageStateManager"})}),".",(0,t.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManager#canceltransaction",children:(0,t.jsx)(a.code,{children:"cancelTransaction"})})]}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h3,{id:"clear",children:"clear()"}),"\n",(0,t.jsxs)(a.blockquote,{children:["\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"clear"}),"(): ",(0,t.jsx)(a.code,{children:"void"})]}),"\n"]}),"\n",(0,t.jsxs)(a.p,{children:["Defined in: ",(0,t.jsx)(a.a,{href:"https://github.com/seznam/ima/blob/39fc3f27c8338f71d6810d322cfdfa7bf93c0392/packages/core/src/page/state/PageStateManagerDecorator.ts#L39",children:"packages/core/src/page/state/PageStateManagerDecorator.ts:39"})]}),"\n",(0,t.jsx)(a.p,{children:"Clears the state history."}),"\n",(0,t.jsx)(a.h4,{id:"returns-4",children:"Returns"}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.code,{children:"void"})}),"\n",(0,t.jsx)(a.h4,{id:"overrides-3",children:"Overrides"}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManager",children:(0,t.jsx)(a.code,{children:"PageStateManager"})}),".",(0,t.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManager#clear",children:(0,t.jsx)(a.code,{children:"clear"})})]}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h3,{id:"committransaction",children:"commitTransaction()"}),"\n",(0,t.jsxs)(a.blockquote,{children:["\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"commitTransaction"}),"(): ",(0,t.jsx)(a.code,{children:"void"})]}),"\n"]}),"\n",(0,t.jsxs)(a.p,{children:["Defined in: ",(0,t.jsx)(a.a,{href:"https://github.com/seznam/ima/blob/39fc3f27c8338f71d6810d322cfdfa7bf93c0392/packages/core/src/page/state/PageStateManagerDecorator.ts#L96",children:"packages/core/src/page/state/PageStateManagerDecorator.ts:96"})]}),"\n",(0,t.jsxs)(a.p,{children:["Applies queued state patches to the main state. All patches are squashed\nand applied with one ",(0,t.jsx)(a.code,{children:"setState"})," call."]}),"\n",(0,t.jsx)(a.h4,{id:"returns-5",children:"Returns"}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.code,{children:"void"})}),"\n",(0,t.jsx)(a.h4,{id:"overrides-4",children:"Overrides"}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManager",children:(0,t.jsx)(a.code,{children:"PageStateManager"})}),".",(0,t.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManager#committransaction",children:(0,t.jsx)(a.code,{children:"commitTransaction"})})]}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h3,{id:"getallstates",children:"getAllStates()"}),"\n",(0,t.jsxs)(a.blockquote,{children:["\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"getAllStates"}),"(): ",(0,t.jsx)(a.code,{children:"object"}),"[]"]}),"\n"]}),"\n",(0,t.jsxs)(a.p,{children:["Defined in: ",(0,t.jsx)(a.a,{href:"https://github.com/seznam/ima/blob/39fc3f27c8338f71d6810d322cfdfa7bf93c0392/packages/core/src/page/state/PageStateManagerDecorator.ts#L75",children:"packages/core/src/page/state/PageStateManagerDecorator.ts:75"})]}),"\n",(0,t.jsx)(a.p,{children:"Returns the recorded history of page states. The states will be\nchronologically sorted from the oldest to the newest."}),"\n",(0,t.jsx)(a.p,{children:"Note that the implementation may limit the size of the recorded history,\ntherefore the complete history may not be available."}),"\n",(0,t.jsx)(a.h4,{id:"returns-6",children:"Returns"}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.code,{children:"object"}),"[]"]}),"\n",(0,t.jsx)(a.p,{children:"The recorded history of page states."}),"\n",(0,t.jsx)(a.h4,{id:"overrides-5",children:"Overrides"}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManager",children:(0,t.jsx)(a.code,{children:"PageStateManager"})}),".",(0,t.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManager#getallstates",children:(0,t.jsx)(a.code,{children:"getAllStates"})})]}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h3,{id:"getstate",children:"getState()"}),"\n",(0,t.jsxs)(a.blockquote,{children:["\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"getState"}),"(): ",(0,t.jsx)(a.code,{children:"object"})]}),"\n"]}),"\n",(0,t.jsxs)(a.p,{children:["Defined in: ",(0,t.jsx)(a.a,{href:"https://github.com/seznam/ima/blob/39fc3f27c8338f71d6810d322cfdfa7bf93c0392/packages/core/src/page/state/PageStateManagerDecorator.ts#L68",children:"packages/core/src/page/state/PageStateManagerDecorator.ts:68"})]}),"\n",(0,t.jsx)(a.p,{children:"Returns the current page state."}),"\n",(0,t.jsx)(a.h4,{id:"returns-7",children:"Returns"}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.code,{children:"object"})}),"\n",(0,t.jsx)(a.p,{children:"The current page state."}),"\n",(0,t.jsx)(a.h4,{id:"overrides-6",children:"Overrides"}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManager",children:(0,t.jsx)(a.code,{children:"PageStateManager"})}),".",(0,t.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManager#getstate",children:(0,t.jsx)(a.code,{children:"getState"})})]}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h3,{id:"gettransactionstatepatches",children:"getTransactionStatePatches()"}),"\n",(0,t.jsxs)(a.blockquote,{children:["\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"getTransactionStatePatches"}),"(): (",(0,t.jsx)(a.code,{children:"null"})," | {} | ",(0,t.jsx)(a.code,{children:"Pick"}),"<{}, ",(0,t.jsx)(a.code,{children:"any"}),">)[]"]}),"\n"]}),"\n",(0,t.jsxs)(a.p,{children:["Defined in: ",(0,t.jsx)(a.a,{href:"https://github.com/seznam/ima/blob/39fc3f27c8338f71d6810d322cfdfa7bf93c0392/packages/core/src/page/state/PageStateManagerDecorator.ts#L82",children:"packages/core/src/page/state/PageStateManagerDecorator.ts:82"})]}),"\n",(0,t.jsx)(a.p,{children:"Returns queueing state patches off the main state from the begin of transaction."}),"\n",(0,t.jsx)(a.h4,{id:"returns-8",children:"Returns"}),"\n",(0,t.jsxs)(a.p,{children:["(",(0,t.jsx)(a.code,{children:"null"})," | {} | ",(0,t.jsx)(a.code,{children:"Pick"}),"<{}, ",(0,t.jsx)(a.code,{children:"any"}),">)[]"]}),"\n",(0,t.jsx)(a.p,{children:"State patches from the begin of transaction."}),"\n",(0,t.jsx)(a.h4,{id:"overrides-7",children:"Overrides"}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManager",children:(0,t.jsx)(a.code,{children:"PageStateManager"})}),".",(0,t.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManager#gettransactionstatepatches",children:(0,t.jsx)(a.code,{children:"getTransactionStatePatches"})})]}),"\n",(0,t.jsx)(a.hr,{}),"\n",(0,t.jsx)(a.h3,{id:"setstate",children:"setState()"}),"\n",(0,t.jsxs)(a.blockquote,{children:["\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.strong,{children:"setState"}),"(",(0,t.jsx)(a.code,{children:"statePatch"}),"): ",(0,t.jsx)(a.code,{children:"void"})]}),"\n"]}),"\n",(0,t.jsxs)(a.p,{children:["Defined in: ",(0,t.jsx)(a.a,{href:"https://github.com/seznam/ima/blob/39fc3f27c8338f71d6810d322cfdfa7bf93c0392/packages/core/src/page/state/PageStateManagerDecorator.ts#L46",children:"packages/core/src/page/state/PageStateManagerDecorator.ts:46"})]}),"\n",(0,t.jsx)(a.p,{children:"Sets a new page state by applying the provided patch to the current\nstate."}),"\n",(0,t.jsx)(a.h4,{id:"parameters-2",children:"Parameters"}),"\n",(0,t.jsx)(a.h5,{id:"statepatch",children:"statePatch"}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.a,{href:"/api/@ima/core/type-aliases/UnknownParameters",children:(0,t.jsx)(a.code,{children:"UnknownParameters"})})}),"\n",(0,t.jsx)(a.h4,{id:"returns-9",children:"Returns"}),"\n",(0,t.jsx)(a.p,{children:(0,t.jsx)(a.code,{children:"void"})}),"\n",(0,t.jsx)(a.h4,{id:"overrides-8",children:"Overrides"}),"\n",(0,t.jsxs)(a.p,{children:[(0,t.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManager",children:(0,t.jsx)(a.code,{children:"PageStateManager"})}),".",(0,t.jsx)(a.a,{href:"/api/@ima/core/classes/PageStateManager#setstate",children:(0,t.jsx)(a.code,{children:"setState"})})]})]})}function h(e={}){const{wrapper:a}={...(0,n.R)(),...e.components};return a?(0,t.jsx)(a,{...e,children:(0,t.jsx)(o,{...e})}):o(e)}},3023:(e,a,r)=>{r.d(a,{R:()=>c,x:()=>i});var s=r(3696);const t={},n=s.createContext(t);function c(e){const a=s.useContext(n);return s.useMemo((function(){return"function"==typeof e?e(a):{...a,...e}}),[a,e])}function i(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:c(e.components),s.createElement(n.Provider,{value:a},e.children)}}}]);